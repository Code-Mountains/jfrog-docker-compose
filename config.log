
[1mBeginning JFrog Platform Trial Pro X setup[0m


[DEBUG] Method docker_doValidations Caller:5459 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

Validating System requirements
Docker version 24.0.2, build cb74dfc
/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh: line 2827: docker-compose: command not found

[38;5;197m[ERROR[0m[38;5;197m] [0mUnable to run docker-compose

[1mBeginning JFrog Platform Trial Pro X setup[0m


[DEBUG] Method docker_doValidations Caller:5459 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

Validating System requirements
Docker version 24.0.2, build cb74dfc
/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh: line 2827: docker-compose: command not found

[38;5;197m[ERROR[0m[38;5;197m] [0mUnable to run docker-compose

[1mBeginning JFrog Platform Trial Pro X setup[0m


[DEBUG] Method docker_doValidations Caller:5459 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

Validating System requirements
Docker version 24.0.2, build cb74dfc
/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh: line 2827: docker-compose: command not found

[38;5;197m[ERROR[0m[38;5;197m] [0mUnable to run docker-compose

[1mBeginning JFrog Platform Trial Pro X setup[0m


[DEBUG] Method docker_doValidations Caller:5459 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

Validating System requirements
Docker version 24.0.7, build afdd53b
docker-compose version 1.29.2, build unknown

[DEBUG] All validations successful

Downloading JFrog xray and its dependencies (this may take several minutes)...

[DEBUG] Replaced [ROUTER_VERSION=.*] with [ROUTER_VERSION=7.81.0] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Replaced [OBSERVABILITY_VERSION=.*] with [OBSERVABILITY_VERSION=1.17.0] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_getUserInputs Caller:5469 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_addToEnvFile Caller:5340 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [JF_SHARED_NODE_IP] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_SHARED_NODE_IP=.*] with [JF_SHARED_NODE_IP=127.0.0.1] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method wrapper_getUserInputs Caller:5344 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_createInstallerYaml Caller:3965 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Creating file: [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml]

[DEBUG] Method wrapper_setSystemValue Caller:2861 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.ha with n in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method wrapper_hook_setInstallerDefaults Caller:2867 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_hook_setInstallerDefaults

[DEBUG] Method wrapper_setSystemValue Caller:2869 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.node.ip with 127.0.0.1 in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method wrapper_setSystemValue Caller:2872 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.install_postgresql with y in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method wrapper_hook_start_getUserInputs Caller:3968 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

Installation Directory found in .env. Skipping prompt

[DEBUG] Method wrapper_setSystemValue Caller:5294 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.data_dir with /root/.jfrog in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method docker_getSystemValue Caller:5299 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.data_dir]

[DEBUG] Method: wrapper_hook_start_getUserInputs. JF_ROOT_DATA_DIR is now [/root/.jfrog]

[DEBUG] Method docker_triggerMigration Caller:5303 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Skipping migration

[DEBUG] Method docker_postMigration_hook

[DEBUG] Method _askForMandatoryInputs Caller:3970 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_setSystemValue Caller:3977 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.node.ip with 127.0.0.1 in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Setting shared.database.type with postgresql in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Setting shared.database.driver with org.postgresql.Driver in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method _askForDBInputs Caller:4019 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _getDatabaseType Caller:3883 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _askPostgresDetails Caller:3891 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_hook_getUserInputs (unimplemented)

[DEBUG] Method wrapper_hook_setRedisPassword (unimplemented)

[DEBUG] Method _updateFromSystemYaml Caller:3636 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_setSystemValue Caller:3658 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting shared.rabbitMq.password with __sensitive_key_hidden___ in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method: docker_getUserInputs. JF_ROOT_DATA_DIR is now [/root/.jfrog]

[DEBUG] Method docker_addToEnvFile Caller:5356 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [JF_SHARED_NODE_IP] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_SHARED_NODE_IP=.*] with [JF_SHARED_NODE_IP=127.0.0.1] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_getSystemValue Caller:5359 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.ha]

[DEBUG] Method: docker_getUserInputs. JF_NODE_TYPE is now [standalone]

[DEBUG] Method docker_getSystemValue Caller:5369 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.jfrogUrl]

[DEBUG] Method: docker_getUserInputs. JF_SHARED_JFROGURL is now []

[DEBUG] Method docker_getSystemValue Caller:5373 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.security.joinKey]

[DEBUG] Method: docker_getUserInputs. JF_SHARED_SECURITY_JOINKEY is now [EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE]

[DEBUG] Method docker_getSystemValue Caller:5377 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.install_postgresql]

[DEBUG] Method: docker_getUserInputs. IS_POSTGRES_REQUIRED is now [y]

[DEBUG] Method docker_getSystemValue Caller:5381 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.node.ip]

[DEBUG] Method: docker_getUserInputs. JF_SHARED_NODE_IP is now [127.0.0.1]

[DEBUG] Method docker_hook_getUserInputs_post

[DEBUG] No third party integration configured. Skipping invocation of 3rd party hook

[DEBUG] Method docker_updateFromYaml Caller:5474 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _updateFromYaml Caller:4600 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _updateFromYaml Caller:4601 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[router.entrypoints.externalPort], targetEnv:[JF_ROUTER_ENTRYPOINTS_EXTERNALPORT]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[router.entrypoints.externalPort]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[router.entrypoints.externalPort], targetEnv:[JF_XRAY_ROUTER_ENTRYPOINTS_EXTERNALPORT]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[router.entrypoints.externalPort]

[DEBUG] PROJECT_ROOT_FOLDER_RT is [artifactory]

[DEBUG] PROJECT_ROOT_FOLDER_XRAY is [xray]

[DEBUG] Method docker_setDirInfo Caller:5482 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Root Directory being used is: /root/.jfrog

[DEBUG] Method docker_hook_setDirInfo

[DEBUG] Method docker_getSystemValue Caller:34 ./config.sh

[DEBUG] Method docker_getSystemValue. key:[shared.mongo]

[DEBUG] Method docker_createDirectories Caller:5487 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] First setup. Setting FIRST_SETUP=true

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/data]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/data

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/data]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/log]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/log

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/log]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc/security]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc/security

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc/security]

[DEBUG] Method docker_hook_createDirectories

[DEBUG] Value of [FIRST_SETUP] is [true]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory]

[DEBUG] Method docker_createDirectories Caller:5489 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] First setup. Setting FIRST_SETUP=true

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var]

[DEBUG] Attempting to create /root/.jfrog/xray/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/etc]

[DEBUG] Attempting to create /root/.jfrog/xray/var/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/data]

[DEBUG] Attempting to create /root/.jfrog/xray/var/data

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/data]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/log]

[DEBUG] Attempting to create /root/.jfrog/xray/var/log

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/log]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/etc/security]

[DEBUG] Attempting to create /root/.jfrog/xray/var/etc/security

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/etc/security]

[DEBUG] Method docker_hook_createDirectories

[DEBUG] Value of [FIRST_SETUP] is [true]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray]

[DEBUG] Method docker_setRootDirPermissions Caller:5498 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory]

[DEBUG] Method docker_setRootDirPermissions Caller:5500 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray]

[DEBUG] Method docker_createThirdPartyDir Caller:5508 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

Creating third party directories (if necessary)

[DEBUG] Method io_createPostgresDir Caller:4670 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Property [/root/.jfrog/artifactory/var/data/postgres] exists. Proceeding

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/data/postgres/data]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/data/postgres/data

[DEBUG] Method io_setOwnership. Executing [chown -R 999:999 /root/.jfrog/artifactory/var/data/postgres]

[DEBUG] Method io_createNginxDir Caller:4671 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Property [/root/.jfrog/artifactory/var/data/nginx] exists. Proceeding

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/data/nginx]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/data/nginx

[DEBUG] Method io_setOwnership. Executing [chown -R 104:107 /root/.jfrog/artifactory/var/data/nginx]

[DEBUG] Method io_createElasticSearchDir Caller:4672 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_createRedisDir Caller:4673 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_createMongoDir Caller:4674 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_createRabbitMQDir Caller:4675 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Property [/root/.jfrog/xray/var/data/rabbitmq] exists. Proceeding

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/data/rabbitmq]

[DEBUG] Attempting to create /root/.jfrog/xray/var/data/rabbitmq

[DEBUG] Method io_setOwnership. Executing [chown -R 999:999 /root/.jfrog/xray/var/data/rabbitmq]

[DEBUG] Method _updateFromSystemYaml Caller:3569 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_setSystemValue Caller:3593 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.postgresql_version with 13-10v in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method docker_createSystemYaml Caller:5515 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_setSystemValue. Setting [shared.node.ip] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.node.ip with 127.0.0.1 in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.node.id] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.node.id with vault-xray in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.node.id] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.node.id with vault-rt in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.node.name] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.node.name with vault-xray in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.node.name] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.node.name with vault-rt in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.security.joinKey] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.security.joinKey with __sensitive_key_hidden___ in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [router.entrypoints.externalPort] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting router.entrypoints.externalPort with 8082 in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [router.entrypoints.externalPort] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting router.entrypoints.externalPort with 8083 in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4886 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.type]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.type] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.database.type with postgresql in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4887 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.driver]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.driver] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.database.driver with org.postgresql.Driver in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4888 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.url]

[DEBUG] Key: KEY_DATABASE_URL not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4889 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.username]

[DEBUG] Key: KEY_DATABASE_USERNAME not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4890 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.password]

[DEBUG] Key: KEY_DATABASE_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4891 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.name]

[DEBUG] Key: KEY_RABBITMQ_ACTIVE_NODE_NAME not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4892 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.ip]

[DEBUG] Key: KEY_RABBITMQ_ACTIVE_NODE_IP not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4893 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.redis.password]

[DEBUG] Key: KEY_REDIS_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4895 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.password]

[DEBUG] Method docker_setSystemValue. Setting [shared.rabbitMq.password] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.rabbitMq.password with __sensitive_key_hidden___ in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_addToEnvFile Caller:4900 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [ROOT_DATA_DIR] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [ROOT_DATA_DIR=.*] with [ROOT_DATA_DIR=/root/.jfrog] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_hook_postSystemYamlCreation

[DEBUG] Method docker_addToEnvFile Caller:173 ./config.sh

[DEBUG] Replacing [JF_THIRD_PARTY_BIND_IP] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_THIRD_PARTY_BIND_IP=.*] with [JF_THIRD_PARTY_BIND_IP=127.0.0.1] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_setSystemValue. Setting [shared.jfrogUrl] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.jfrogUrl with http://127.0.0.1:8082 in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.rabbitMq.url] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.rabbitMq.url with amqp://127.0.0.1:5672/ in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.database.url] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.database.url with __sensitive_key_hidden___ in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.database.url] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.database.url with __sensitive_key_hidden___ in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.database.username] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.database.username with artifactory in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.database.username] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.database.username with xray in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.database.password] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Setting shared.database.password with __sensitive_key_hidden___ in /root/.jfrog/artifactory/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.database.password] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.database.password with __sensitive_key_hidden___ in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_createSystemYaml Caller:5517 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_setSystemValue. Setting [shared.node.ip] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.node.ip with 127.0.0.1 in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_setSystemValue. Setting [shared.node.id] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.id] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.name] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.name] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.security.joinKey] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [router.entrypoints.externalPort] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [router.entrypoints.externalPort] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4886 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.type]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.type] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.database.type with postgresql in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4887 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.driver]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.driver] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Setting shared.database.driver with org.postgresql.Driver in /root/.jfrog/xray/var/etc/system.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4888 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.url]

[DEBUG] Key: KEY_DATABASE_URL not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4889 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.username]

[DEBUG] Key: KEY_DATABASE_USERNAME not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4890 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.password]

[DEBUG] Key: KEY_DATABASE_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4891 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.name]

[DEBUG] Key: KEY_RABBITMQ_ACTIVE_NODE_NAME not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4892 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.ip]

[DEBUG] Key: KEY_RABBITMQ_ACTIVE_NODE_IP not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4893 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.redis.password]

[DEBUG] Key: KEY_REDIS_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4895 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.password]

[DEBUG] Method docker_setSystemValue. Setting [shared.rabbitMq.password] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_addToEnvFile Caller:4900 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [ROOT_DATA_DIR] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [ROOT_DATA_DIR=.*] with [ROOT_DATA_DIR=/root/.jfrog] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_hook_postSystemYamlCreation

[DEBUG] Method docker_addToEnvFile Caller:173 ./config.sh

[DEBUG] Replacing [JF_THIRD_PARTY_BIND_IP] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_THIRD_PARTY_BIND_IP=.*] with [JF_THIRD_PARTY_BIND_IP=127.0.0.1] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_setSystemValue. Setting [shared.jfrogUrl] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.rabbitMq.url] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.url] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.url] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.username] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.username] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.password] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.password] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.ha]

[DEBUG] Method docker_setSystemValue. Setting [installer.ha] to [/root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Setting installer.ha with n in /root/.jfrog/artifactory/var/etc/installerState.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.install_postgresql]

[DEBUG] Method docker_setSystemValue. Setting [installer.install_postgresql] to [/root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Setting installer.install_postgresql with y in /root/.jfrog/artifactory/var/etc/installerState.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.postgresql_version]

[DEBUG] Method docker_setSystemValue. Setting [installer.postgresql_version] to [/root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Setting installer.postgresql_version with 13-10v in /root/.jfrog/artifactory/var/etc/installerState.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.ha]

[DEBUG] Method docker_setSystemValue. Setting [installer.ha] to [/root/.jfrog/xray/var/etc/installerState.yaml]

[DEBUG] Setting installer.ha with n in /root/.jfrog/xray/var/etc/installerState.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.install_postgresql]

[DEBUG] Method docker_setSystemValue. Setting [installer.install_postgresql] to [/root/.jfrog/xray/var/etc/installerState.yaml]

[DEBUG] Setting installer.install_postgresql with y in /root/.jfrog/xray/var/etc/installerState.yaml

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.postgresql_version]

[DEBUG] Method docker_setSystemValue. Setting [installer.postgresql_version] to [/root/.jfrog/xray/var/etc/installerState.yaml]

[DEBUG] Setting installer.postgresql_version with 13-10v in /root/.jfrog/xray/var/etc/installerState.yaml

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/installerState.yaml]

[DEBUG] Method docker_hook_copyComposeFile

[DEBUG] Method docker_getSystemValue Caller:4967 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.postgresql_version]

[DEBUG] Method _getDatabaseType Caller:5007 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:5014 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.password]

Attempting to seed PostgreSQL. This may take some time.
Creating network "trial-prox-postgres_default" with the default driver
Pulling postgres (releases-docker.jfrog.io/postgres:13.10-alpine)...
13.10-alpine: Pulling from postgres
Digest: sha256:1e85eddf0ae095fa707bd1e46f26129b43be2c2d0633684e038745ff9c5b7c6a
Status: Downloaded newer image for releases-docker.jfrog.io/postgres:13.10-alpine
Creating postgresql ... 
Creating postgresql ... done

[DEBUG] Successfully copied PostgreSQL setup script
psql (PostgreSQL) 13.10

Waiting for Postgres to get ready using the commands: "psql --host=localhost --port=5432 --version" & "psql --host=localhost --port=5432 -l"
.

Postgres is ready. Executing commands

Postgres setup is now complete

Successfully seeded PostgreSQL

[DEBUG] Copying [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/templates/docker-compose.yaml] as [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/docker-compose.yaml]

[DEBUG] Copying [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/templates/docker-compose-rabbitmq.yaml] as [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/docker-compose-rabbitmq.yaml]

[DEBUG] Method docker_getSystemValue Caller:34 ./config.sh

[DEBUG] Method docker_getSystemValue. key:[shared.mongo]

[DEBUG] Mongo entry does not exist. Removing mongo container

[DEBUG] Method docker_removeSystemValue Caller:213 ./config.sh

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory]

[DEBUG] Attempting to create /root/.jfrog/artifactory

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc/security]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc/security

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc/security]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/security/join.key]

[DEBUG] Method docker_hook_setupThirdParty

[DEBUG] Method docker_addToEnvFile Caller:146 ./config.sh

[DEBUG] Replacing [HOST_ID] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [HOST_ID=.*] with [HOST_ID=vault.thecodemountains.com] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method createErlangCookie

[DEBUG] Creating erlang cookie [/root/.jfrog/xray/var/data/rabbitmq/.erlang.cookie] as [JFXR_RABBITMQ_COOKIE]

[DEBUG] Method setupRabbitMQCluster

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.rabbitMq.active.node.name], targetEnv:[JF_SHARED_RABBITMQ_ACTIVE_NODE_NAME]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.name]

[DEBUG] Method io_setOwnership. Executing [chown -R 999:999 /root/.jfrog/xray/app/third-party/rabbitmq]

[DEBUG] No third party integration configured. Skipping invocation of 3rd party hook

[DEBUG] Method docker_configureLogRotation Caller:5542 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _addLogRotateBinary Caller:5270 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method configureLogRotation Caller:5271 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Configuring log rotation as user [1030], group [1030], effective cron User [root]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory]

[DEBUG] Attempting to create /root/.jfrog/artifactory

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/log]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/log

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/log]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/log/archived]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/log/archived

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/log/archived]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc/logrotate]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc/logrotate

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc/logrotate]

[DEBUG] Method createFile [/root/.jfrog/artifactory/var/etc/logrotate/logrotate.conf]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/logrotate/logrotate.conf]

[DEBUG] Method _addLogRotateConfiguration Caller:1232 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Adding logrotate configuration for [/root/.jfrog/artifactory/var/log/console.log] to [/root/.jfrog/artifactory/var/etc/logrotate/logrotate.conf]

[DEBUG] Method _addCronJobForLogrotate Caller:1233 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method removeLogRotation Caller:1155 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_configureLogRotation Caller:5544 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _addLogRotateBinary Caller:5270 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method configureLogRotation Caller:5271 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Configuring log rotation as user [1035], group [1035], effective cron User [root]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray]

[DEBUG] Attempting to create /root/.jfrog/xray

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var]

[DEBUG] Attempting to create /root/.jfrog/xray/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/log]

[DEBUG] Attempting to create /root/.jfrog/xray/var/log

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/log]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/log/archived]

[DEBUG] Attempting to create /root/.jfrog/xray/var/log/archived

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/log/archived]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/etc]

[DEBUG] Attempting to create /root/.jfrog/xray/var/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/etc/logrotate]

[DEBUG] Attempting to create /root/.jfrog/xray/var/etc/logrotate

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/etc/logrotate]

[DEBUG] Method createFile [/root/.jfrog/xray/var/etc/logrotate/logrotate.conf]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/logrotate/logrotate.conf]

[DEBUG] Method _addLogRotateConfiguration Caller:1232 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Adding logrotate configuration for [/root/.jfrog/xray/var/log/console.log] to [/root/.jfrog/xray/var/etc/logrotate/logrotate.conf]

[DEBUG] Method _addCronJobForLogrotate Caller:1233 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method removeLogRotation Caller:1155 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] No third party integration configured. Skipping invocation of 3rd party hook

[DEBUG] Method docker_showSuccessMessage Caller:5554 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[1mDocker setup complete[0m

Installation directory: [/root/.jfrog] contains data and configurations.

Use docker-compose commands to start the application. Once the application has started, it can be accessed at [http://127.0.0.1:8082]

[1mExamples:[0m
cd /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose


Rabbitmq is a dependent service which needs to be started once after install. This needs to be running before start of xray services.

start rabbitmq:      docker-compose -p trial-prox-rabbitmq -f docker-compose-rabbitmq.yaml up -d
start postgresql:    docker-compose -p trial-prox-postgres -f docker-compose-postgres.yaml up -d
start:               docker-compose -p trial-prox up -d
stop:                docker-compose -p trial-prox down

[1mNOTE:[0m The compose file uses several environment variables from the .env file. Remember to run from within the [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose] folder

[DEBUG] Method docker_cleanup Caller:5559 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_removeInstallerYaml Caller:5070 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Removing file: [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/log/config.log]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.basic-template.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.full-template.yaml]

[DEBUG] Method docker_cleanup Caller:5560 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_removeInstallerYaml Caller:5070 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/log/config.log]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/system.basic-template.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/system.full-template.yaml]

[1mDone[0m


[1mBeginning JFrog Platform Trial Pro X setup[0m


[DEBUG] Method docker_doValidations Caller:5459 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

Validating System requirements
Docker version 24.0.7, build afdd53b
docker-compose version 1.29.2, build unknown

[DEBUG] All validations successful

[DEBUG] Method docker_getUserInputs Caller:5469 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_addToEnvFile Caller:5340 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [JF_SHARED_NODE_IP] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_SHARED_NODE_IP=.*] with [JF_SHARED_NODE_IP=127.0.0.1] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method wrapper_getUserInputs Caller:5344 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_createInstallerYaml Caller:3965 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Creating file: [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml]

[DEBUG] Method wrapper_setSystemValue Caller:2861 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.ha with n in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method wrapper_hook_setInstallerDefaults Caller:2867 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_hook_setInstallerDefaults

[DEBUG] Method wrapper_setSystemValue Caller:2869 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.node.ip with 127.0.0.1 in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method wrapper_setSystemValue Caller:2872 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.install_postgresql with y in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method wrapper_hook_start_getUserInputs Caller:3968 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

Installation Directory found in .env. Skipping prompt

[DEBUG] Method wrapper_setSystemValue Caller:5294 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.data_dir with /root/.jfrog in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method docker_getSystemValue Caller:5299 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.data_dir]

[DEBUG] Method: wrapper_hook_start_getUserInputs. JF_ROOT_DATA_DIR is now [/root/.jfrog]

[DEBUG] Method docker_triggerMigration Caller:5303 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Skipping migration

[DEBUG] Method docker_postMigration_hook

[DEBUG] Method _askForMandatoryInputs Caller:3970 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_setSystemValue Caller:3977 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.node.ip with 127.0.0.1 in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Setting shared.database.type with postgresql in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Setting shared.database.driver with org.postgresql.Driver in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method _askForDBInputs Caller:4019 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _getDatabaseType Caller:3883 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _askPostgresDetails Caller:3891 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_hook_getUserInputs (unimplemented)

[DEBUG] Method wrapper_hook_setRedisPassword (unimplemented)

[DEBUG] Method wrapper_setSystemValue Caller:3708 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting shared.rabbitMq.password with __sensitive_key_hidden___ in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method: docker_getUserInputs. JF_ROOT_DATA_DIR is now [/root/.jfrog]

[DEBUG] Method docker_addToEnvFile Caller:5356 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [JF_SHARED_NODE_IP] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_SHARED_NODE_IP=.*] with [JF_SHARED_NODE_IP=127.0.0.1] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_getSystemValue Caller:5359 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.ha]

[DEBUG] Method: docker_getUserInputs. JF_NODE_TYPE is now [standalone]

[DEBUG] Method docker_getSystemValue Caller:5369 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.jfrogUrl]

[DEBUG] Method: docker_getUserInputs. JF_SHARED_JFROGURL is now []

[DEBUG] Method docker_getSystemValue Caller:5373 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.security.joinKey]

[DEBUG] Method: docker_getUserInputs. JF_SHARED_SECURITY_JOINKEY is now [EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEE]

[DEBUG] Method docker_getSystemValue Caller:5377 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.install_postgresql]

[DEBUG] Method: docker_getUserInputs. IS_POSTGRES_REQUIRED is now [y]

[DEBUG] Method docker_getSystemValue Caller:5381 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.node.ip]

[DEBUG] Method: docker_getUserInputs. JF_SHARED_NODE_IP is now [127.0.0.1]

[DEBUG] Method docker_hook_getUserInputs_post

[DEBUG] No third party integration configured. Skipping invocation of 3rd party hook

[DEBUG] Method docker_updateFromYaml Caller:5474 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _updateFromYaml Caller:4600 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.jfrogUrl], targetEnv:[JF_SHARED_JFROGURL]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.jfrogUrl]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.node.id], targetEnv:[JF_SHARED_NODE_ID]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.node.id]

[DEBUG] Method docker_addToEnvFile Caller:4561 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] The key [JF_SHARED_NODE_ID] in .env has been updated from system.yaml [shared.node.id] with value [vault-rt]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.node.ip], targetEnv:[JF_SHARED_NODE_IP]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.node.ip]

[DEBUG] Method docker_addToEnvFile Caller:4561 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [JF_SHARED_NODE_IP] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_SHARED_NODE_IP=.*] with [JF_SHARED_NODE_IP=127.0.0.1] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] The key [JF_SHARED_NODE_IP] in .env has been updated from system.yaml [shared.node.ip] with value [127.0.0.1]

[DEBUG] Method docker_hook_updateFromYaml

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.rabbitMq.erlangCookie.value], targetEnv:[JF_SHARED_RABBITMQ_ERLANGCOOKIE_VALUE]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.erlangCookie.value]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.rabbitMq.active.node.name], targetEnv:[JF_SHARED_RABBITMQ_ACTIVE_NODE_NAME]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.name]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.rabbitMq.active.node.ip], targetEnv:[JF_SHARED_RABBITMQ_ACTIVE_NODE_IP]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.ip]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.rabbitMq.clean], targetEnv:[JF_SHARED_RABBITMQ_CLEAN]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.clean]

[DEBUG] Method _updateFromYaml Caller:4601 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.jfrogUrl], targetEnv:[JF_SHARED_JFROGURL]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.jfrogUrl]

[DEBUG] Method docker_addToEnvFile Caller:4561 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] The key [JF_SHARED_JFROGURL] in .env has been updated from system.yaml [shared.jfrogUrl] with value [http://127.0.0.1:8082]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.node.id], targetEnv:[JF_SHARED_NODE_ID]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.node.id]

[DEBUG] Method docker_addToEnvFile Caller:4561 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] The key [JF_SHARED_NODE_ID] in .env has been updated from system.yaml [shared.node.id] with value [vault-xray]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.node.ip], targetEnv:[JF_SHARED_NODE_IP]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.node.ip]

[DEBUG] Method docker_addToEnvFile Caller:4561 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [JF_SHARED_NODE_IP] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_SHARED_NODE_IP=.*] with [JF_SHARED_NODE_IP=127.0.0.1] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] The key [JF_SHARED_NODE_IP] in .env has been updated from system.yaml [shared.node.ip] with value [127.0.0.1]

[DEBUG] Method docker_hook_updateFromYaml

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.rabbitMq.erlangCookie.value], targetEnv:[JF_SHARED_RABBITMQ_ERLANGCOOKIE_VALUE]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.erlangCookie.value]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.rabbitMq.active.node.name], targetEnv:[JF_SHARED_RABBITMQ_ACTIVE_NODE_NAME]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.name]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.rabbitMq.active.node.ip], targetEnv:[JF_SHARED_RABBITMQ_ACTIVE_NODE_IP]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.ip]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.rabbitMq.clean], targetEnv:[JF_SHARED_RABBITMQ_CLEAN]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.clean]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[router.entrypoints.externalPort], targetEnv:[JF_ROUTER_ENTRYPOINTS_EXTERNALPORT]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[router.entrypoints.externalPort]

[DEBUG] Method docker_addToEnvFile Caller:4561 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [JF_ROUTER_ENTRYPOINTS_EXTERNALPORT] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_ROUTER_ENTRYPOINTS_EXTERNALPORT=.*] with [JF_ROUTER_ENTRYPOINTS_EXTERNALPORT=8082] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] The key [JF_ROUTER_ENTRYPOINTS_EXTERNALPORT] in .env has been updated from system.yaml [router.entrypoints.externalPort] with value [8082]

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[router.entrypoints.externalPort], targetEnv:[JF_XRAY_ROUTER_ENTRYPOINTS_EXTERNALPORT]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[router.entrypoints.externalPort]

[DEBUG] Method docker_addToEnvFile Caller:4561 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [JF_XRAY_ROUTER_ENTRYPOINTS_EXTERNALPORT] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_XRAY_ROUTER_ENTRYPOINTS_EXTERNALPORT=.*] with [JF_XRAY_ROUTER_ENTRYPOINTS_EXTERNALPORT=8083] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] The key [JF_XRAY_ROUTER_ENTRYPOINTS_EXTERNALPORT] in .env has been updated from system.yaml [router.entrypoints.externalPort] with value [8083]

[DEBUG] PROJECT_ROOT_FOLDER_RT is [artifactory]

[DEBUG] PROJECT_ROOT_FOLDER_XRAY is [xray]

[DEBUG] Method docker_setDirInfo Caller:5482 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Root Directory being used is: /root/.jfrog

[DEBUG] Method docker_hook_setDirInfo

[DEBUG] Method docker_getSystemValue Caller:34 ./config.sh

[DEBUG] Method docker_getSystemValue. key:[shared.mongo]

[DEBUG] Method docker_createDirectories Caller:5487 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/data]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/data

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/data]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/log]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/log

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/log]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc/security]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc/security

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc/security]

[DEBUG] Method docker_hook_createDirectories

[DEBUG] Value of [FIRST_SETUP] is []

[DEBUG] Method docker_createDirectories Caller:5489 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var]

[DEBUG] Attempting to create /root/.jfrog/xray/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/etc]

[DEBUG] Attempting to create /root/.jfrog/xray/var/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/data]

[DEBUG] Attempting to create /root/.jfrog/xray/var/data

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/data]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/log]

[DEBUG] Attempting to create /root/.jfrog/xray/var/log

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/log]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/etc/security]

[DEBUG] Attempting to create /root/.jfrog/xray/var/etc/security

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/etc/security]

[DEBUG] Method docker_hook_createDirectories

[DEBUG] Value of [FIRST_SETUP] is []

[DEBUG] Method docker_setRootDirPermissions Caller:5498 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory]

[DEBUG] Method docker_setRootDirPermissions Caller:5500 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray]

[DEBUG] Method docker_createThirdPartyDir Caller:5508 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

Creating third party directories (if necessary)

[DEBUG] Method io_createPostgresDir Caller:4670 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Property [/root/.jfrog/artifactory/var/data/postgres] exists. Proceeding

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/data/postgres/data]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/data/postgres/data

[DEBUG] Method io_createNginxDir Caller:4671 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Property [/root/.jfrog/artifactory/var/data/nginx] exists. Proceeding

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/data/nginx]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/data/nginx

[DEBUG] Method io_setOwnership. Executing [chown -R 104:107 /root/.jfrog/artifactory/var/data/nginx]

[DEBUG] Method io_createElasticSearchDir Caller:4672 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_createRedisDir Caller:4673 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_createMongoDir Caller:4674 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_createRabbitMQDir Caller:4675 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Property [/root/.jfrog/xray/var/data/rabbitmq] exists. Proceeding

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/data/rabbitmq]

[DEBUG] Attempting to create /root/.jfrog/xray/var/data/rabbitmq

[DEBUG] Method io_setOwnership. Executing [chown -R 999:999 /root/.jfrog/xray/var/data/rabbitmq]

[DEBUG] Method _updateFromSystemYaml Caller:3569 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Overiding installerYamlKey [installer.postgresql_version] with value of sysYamlKey [installer.postgresql_version]: [13-10v]

[DEBUG] Method wrapper_setSystemValue Caller:3388 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Setting installer.postgresql_version with 13-10v in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml

[DEBUG] Method docker_createSystemYaml Caller:5515 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_setSystemValue. Setting [shared.node.ip] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.id] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.id] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.name] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.name] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.jfrogUrl] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.security.joinKey] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [router.entrypoints.externalPort] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [router.entrypoints.externalPort] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4886 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.type]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.type] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4887 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.driver]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.driver] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4888 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.url]

[DEBUG] Key: KEY_DATABASE_URL not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4889 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.username]

[DEBUG] Key: KEY_DATABASE_USERNAME not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4890 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.password]

[DEBUG] Key: KEY_DATABASE_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4891 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.name]

[DEBUG] Key: KEY_RABBITMQ_ACTIVE_NODE_NAME not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4892 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.ip]

[DEBUG] Key: KEY_RABBITMQ_ACTIVE_NODE_IP not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4893 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.redis.password]

[DEBUG] Key: KEY_REDIS_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4895 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.password]

[DEBUG] Method docker_setSystemValue. Setting [shared.rabbitMq.password] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_addToEnvFile Caller:4900 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [ROOT_DATA_DIR] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [ROOT_DATA_DIR=.*] with [ROOT_DATA_DIR=/root/.jfrog] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_hook_postSystemYamlCreation

[DEBUG] Method docker_addToEnvFile Caller:173 ./config.sh

[DEBUG] Replacing [JF_THIRD_PARTY_BIND_IP] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_THIRD_PARTY_BIND_IP=.*] with [JF_THIRD_PARTY_BIND_IP=127.0.0.1] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_setSystemValue. Setting [shared.jfrogUrl] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.rabbitMq.url] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.url] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.url] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.username] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.username] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.password] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.password] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_createSystemYaml Caller:5517 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_setSystemValue. Setting [shared.node.ip] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.id] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.id] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.name] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.node.name] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.jfrogUrl] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.security.joinKey] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [router.entrypoints.externalPort] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [router.entrypoints.externalPort] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4886 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.type]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.type] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4887 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.driver]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.driver] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4888 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.url]

[DEBUG] Key: KEY_DATABASE_URL not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4889 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.username]

[DEBUG] Key: KEY_DATABASE_USERNAME not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4890 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.password]

[DEBUG] Key: KEY_DATABASE_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4891 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.name]

[DEBUG] Key: KEY_RABBITMQ_ACTIVE_NODE_NAME not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4892 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.ip]

[DEBUG] Key: KEY_RABBITMQ_ACTIVE_NODE_IP not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4893 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.redis.password]

[DEBUG] Key: KEY_REDIS_PASSWORD not applicable

[DEBUG] Method docker_installToSystemYaml Caller:4895 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.password]

[DEBUG] Method docker_setSystemValue. Setting [shared.rabbitMq.password] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_addToEnvFile Caller:4900 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Replacing [ROOT_DATA_DIR] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [ROOT_DATA_DIR=.*] with [ROOT_DATA_DIR=/root/.jfrog] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_hook_postSystemYamlCreation

[DEBUG] Method docker_addToEnvFile Caller:173 ./config.sh

[DEBUG] Replacing [JF_THIRD_PARTY_BIND_IP] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [JF_THIRD_PARTY_BIND_IP=.*] with [JF_THIRD_PARTY_BIND_IP=127.0.0.1] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method docker_setSystemValue. Setting [shared.jfrogUrl] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.rabbitMq.url] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.url] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.url] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.username] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.username] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.password] to [/root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_setSystemValue. Setting [shared.database.password] to [/root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/system.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.ha]

[DEBUG] Method docker_setSystemValue. Setting [installer.ha] to [/root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.install_postgresql]

[DEBUG] Method docker_setSystemValue. Setting [installer.install_postgresql] to [/root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.postgresql_version]

[DEBUG] Method docker_setSystemValue. Setting [installer.postgresql_version] to [/root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.ha]

[DEBUG] Method docker_setSystemValue. Setting [installer.ha] to [/root/.jfrog/xray/var/etc/installerState.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.install_postgresql]

[DEBUG] Method docker_setSystemValue. Setting [installer.install_postgresql] to [/root/.jfrog/xray/var/etc/installerState.yaml]

[DEBUG] Method docker_installToSystemYaml Caller:4948 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:4813 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.postgresql_version]

[DEBUG] Method docker_setSystemValue. Setting [installer.postgresql_version] to [/root/.jfrog/xray/var/etc/installerState.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/installerState.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/installerState.yaml]

[DEBUG] Method docker_hook_copyComposeFile

[DEBUG] Method docker_getSystemValue Caller:4967 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[installer.postgresql_version]

[DEBUG] Method _getDatabaseType Caller:5007 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue Caller:5014 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.database.password]

Attempting to seed PostgreSQL. This may take some time.
Recreating postgresql ... 
Recreating postgresql ... done

[DEBUG] Successfully copied PostgreSQL setup script
psql (PostgreSQL) 13.10

Waiting for Postgres to get ready using the commands: "psql --host=localhost --port=5432 --version" & "psql --host=localhost --port=5432 -l"


Postgres is ready. Executing commands

Postgres setup is now complete

Successfully seeded PostgreSQL

[DEBUG] Copying [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/templates/docker-compose.yaml] as [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/docker-compose.yaml]

[DEBUG] Copying [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/templates/docker-compose-rabbitmq.yaml] as [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/docker-compose-rabbitmq.yaml]

[DEBUG] Method docker_getSystemValue Caller:34 ./config.sh

[DEBUG] Method docker_getSystemValue. key:[shared.mongo]

[DEBUG] Mongo entry does not exist. Removing mongo container

[DEBUG] Method docker_removeSystemValue Caller:213 ./config.sh

[DEBUG] Method docker_hook_setupThirdParty

[DEBUG] Method docker_addToEnvFile Caller:146 ./config.sh

[DEBUG] Replacing [HOST_ID] in /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env

[DEBUG] Replaced [HOST_ID=.*] with [HOST_ID=vault.thecodemountains.com] in [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/.env]

[DEBUG] Method createErlangCookie

[DEBUG] Erlang cookie (/root/.jfrog/xray/var/data/rabbitmq/.erlang.cookie) already exists, skipping its creation

[DEBUG] Method setupRabbitMQCluster

[DEBUG] Method _getYamlValueAndUpdateEnv sourceKey:[shared.rabbitMq.active.node.name], targetEnv:[JF_SHARED_RABBITMQ_ACTIVE_NODE_NAME]

[DEBUG] Method docker_getSystemValue Caller:4557 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_getSystemValue. key:[shared.rabbitMq.active.node.name]

[DEBUG] Method io_setOwnership. Executing [chown -R 999:999 /root/.jfrog/xray/app/third-party/rabbitmq]

[DEBUG] No third party integration configured. Skipping invocation of 3rd party hook

[DEBUG] Method docker_configureLogRotation Caller:5542 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _addLogRotateBinary Caller:5270 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method configureLogRotation Caller:5271 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Configuring log rotation as user [1030], group [1030], effective cron User [root]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory]

[DEBUG] Attempting to create /root/.jfrog/artifactory

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/log]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/log

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/log]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/log/archived]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/log/archived

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/log/archived]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/artifactory/var/etc/logrotate]

[DEBUG] Attempting to create /root/.jfrog/artifactory/var/etc/logrotate

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1030:1030 /root/.jfrog/artifactory/var/etc/logrotate]

[DEBUG] Method createFile [/root/.jfrog/artifactory/var/etc/logrotate/logrotate.conf]

[DEBUG] Method _addLogRotateConfiguration Caller:1232 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Adding logrotate configuration for [/root/.jfrog/artifactory/var/log/console.log] to [/root/.jfrog/artifactory/var/etc/logrotate/logrotate.conf]

[DEBUG] Method _addCronJobForLogrotate Caller:1233 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method removeLogRotation Caller:1155 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method docker_configureLogRotation Caller:5544 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method _addLogRotateBinary Caller:5270 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method configureLogRotation Caller:5271 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Configuring log rotation as user [1035], group [1035], effective cron User [root]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray]

[DEBUG] Attempting to create /root/.jfrog/xray

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var]

[DEBUG] Attempting to create /root/.jfrog/xray/var

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/log]

[DEBUG] Attempting to create /root/.jfrog/xray/var/log

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/log]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/log/archived]

[DEBUG] Attempting to create /root/.jfrog/xray/var/log/archived

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/log/archived]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/etc]

[DEBUG] Attempting to create /root/.jfrog/xray/var/etc

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/etc]

[DEBUG] Method createDir invoked with [/root/.jfrog/xray/var/etc/logrotate]

[DEBUG] Attempting to create /root/.jfrog/xray/var/etc/logrotate

[DEBUG] Method io_setOwnershipNonRecursive. Executing [chown 1035:1035 /root/.jfrog/xray/var/etc/logrotate]

[DEBUG] Method createFile [/root/.jfrog/xray/var/etc/logrotate/logrotate.conf]

[DEBUG] Method _addLogRotateConfiguration Caller:1232 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Adding logrotate configuration for [/root/.jfrog/xray/var/log/console.log] to [/root/.jfrog/xray/var/etc/logrotate/logrotate.conf]

[DEBUG] Method _addCronJobForLogrotate Caller:1233 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method removeLogRotation Caller:1155 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] No third party integration configured. Skipping invocation of 3rd party hook

[DEBUG] Method docker_showSuccessMessage Caller:5554 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[1mDocker setup complete[0m

Installation directory: [/root/.jfrog] contains data and configurations.

Use docker-compose commands to start the application. Once the application has started, it can be accessed at [http://127.0.0.1:8082]

[1mExamples:[0m
cd /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose


Rabbitmq is a dependent service which needs to be started once after install. This needs to be running before start of xray services.

start rabbitmq:      docker-compose -p trial-prox-rabbitmq -f docker-compose-rabbitmq.yaml up -d
start postgresql:    docker-compose -p trial-prox-postgres -f docker-compose-postgres.yaml up -d
start:               docker-compose -p trial-prox up -d
stop:                docker-compose -p trial-prox down

[1mNOTE:[0m The compose file uses several environment variables from the .env file. Remember to run from within the [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose] folder

[DEBUG] Method docker_cleanup Caller:5559 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_removeInstallerYaml Caller:5070 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Removing file: [/home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/installer.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/log/config.log]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.basic-template.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1030:1030 /root/.jfrog/artifactory/var/etc/system.full-template.yaml]

[DEBUG] Method docker_cleanup Caller:5560 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method wrapper_removeInstallerYaml Caller:5070 /home/sysadmin/Documents/code/artifactory/jfrog-docker-compose/bin/dockerComposeHelper.sh

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/log/config.log]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/system.basic-template.yaml]

[DEBUG] Method io_setOwnership. Executing [chown -R 1035:1035 /root/.jfrog/xray/var/etc/system.full-template.yaml]

[1mDone[0m

